<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>형조 & 지영의 결혼식</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Cormorant Garamond 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- 한글 모바일 청첩장용 폰트들 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+KR:wght@300;400;500;600&family=Gowun+Dodum&display=swap" rel="stylesheet">
    <!-- 아리따 부리 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Arita+Buri:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- 한글 폰트 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Pretendard 폰트 -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- 배경음악 -->
    <audio id="background-music" loop preload="auto">
        <source src="wedding-song.mp3" type="audio/mpeg">
    </audio>
    
    <!-- 음악 컨트롤 버튼 -->
    <button id="music-toggle" class="music-btn" title="음악 재생/정지">🎵</button>

    <!-- 떨어지는 꽃잎들 (하나의 컨테이너만 사용) -->
    <div class="flower-petals" id="main-petals">
    </div>

    <!-- 캘리그래피 애니메이션 오버레이 -->
    <div id="calligraphy-overlay" class="calligraphy-overlay">
        <div class="calligraphy-container">
            <div class="calligraphy-text" id="calligraphy-text"></div>
        </div>
    </div>

    <div class="container">
        <!-- 첫 번째 페이지 - INVITATION -->
        <div class="invitation-cover">
            <div class="invitation-title">INVITATION</div>
            
            <div class="main-photo">
                <img src="img/tmp_main.jpg" alt="형조 & 지영의 웨딩 사진" class="wedding-main-photo">
            </div>
            
            <div class="couple-info">
                <div class="couple-names">
                    <div class="groom-name">양형조</div>
                    <div class="bride-name">유지영</div>
                </div>
                <div class="wedding-dates">
                    <div class="wedding-date date-arita">10.19</div>
                </div>
            </div>
            
            <div class="wedding-details">
                <div class="wedding-time">일요일 낮 1시 20분</div>
                <div class="wedding-venue">더 베뉴지지 서울 2층 베뉴지홀</div>
            </div>
            
            <div class="invitation-message">
                <div class="message-line1">PLEASE COME TO OUR WEDDING</div>
                <div class="message-line2">AND BLESS THE START OF OUR NEW LIFE TOGETHER</div>
            </div>
        </div>

        <!-- 인사말 -->
        <div class="greeting">
            <p>
                곁에 있을 때 가장 나다운 모습이<br>
                되게 하는 사람.<br><br>
                
                꿈을 펼칠 수 있도록<br>
                서로에게 날개가 되어 줄 사람.<br><br>
                
                그 사람과 삶의 여행을 함께 떠나려고 합니다.<br><br>
                
                저희 여행의 출발점에 여러분을 초대하오니<br>
                귀한 걸음 하시어 축복해 주시면 감사하겠습니다.
            </p>
        </div>

        <!-- 가족 소개 -->
        <div class="family-info">
            <div class="family-line">
                <span class="parents">故양봉식 · 김인숙</span>
                <span class="relation">의 아들</span>
                <span class="name">형조</span>
            </div>
            <div class="family-line">
                <span class="parents">유준호 · 최옥순</span>
                <span class="relation">의 딸</span>
                <span class="name">지영</span>
            </div>
        </div>

        <!-- 갤러리 -->
        <div class="gallery-section">
            <div class="gallery-title">Gallery</div>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="img/tmp_sub1.jpg" alt="웨딩 사진 1" class="gallery-photo">
                </div>
                <div class="gallery-item">
                    <img src="img/tmp_sub2.jpg" alt="웨딩 사진 2" class="gallery-photo">
                </div>
                <div class="gallery-item">
                    <img src="img/tmp_sub3.jpg" alt="웨딩 사진 3" class="gallery-photo">
                </div>
                <div class="gallery-item">
                    <img src="img/tmp_sub4.jpg" alt="웨딩 사진 4" class="gallery-photo">
                </div>
                <div class="gallery-item">
                    <img src="img/tmp_sub5.jpg" alt="웨딩 사진 5" class="gallery-photo">
                </div>
                <div class="gallery-item">
                    <img src="img/tmp_sub6.jpg" alt="웨딩 사진 6" class="gallery-photo">
                </div>
            </div>
        </div>

        <!-- 장소 정보 -->
        <div class="venue-section">
            <div class="venue-title">Wedding Information</div>
            <div class="venue-details">
                <div class="venue-name">더 베뉴지 서울</div>
                <div class="venue-address">서울 강서구 강서로 388 (등촌동 678-14)</div>
                <div class="venue-tel">Tel. 02-2657-2100</div>
            </div>
        </div>

        <!-- 교통 정보 -->
        <div class="transport-section">
            <div class="transport-title">오시는 길</div>
            
            <div class="transport-item">
                <div class="transport-type">🚇 지하철</div>
                <div class="transport-desc">
                    - 5호선 발산역 3번 출구 방향 도보 4분 이내<br>
                    - 9호선 양천향교역 6번 출구 도보 10분 직진
                </div>
            </div>
            
            <div class="transport-item">
                <div class="transport-type">🚌 버스</div>
                <div class="transport-desc bus-info">
                    - 발산역 정류장 하차<br>
                    - 간선버스 : 601 / 605 / 652 / 654 / 661<br>
                    - 지선버스 : 6630 / 6632 / 6642 / 6645 / 6648 / 6657 / 6712<br>
                    - 공항버스 : 6003<br>
                    - 일반버스 : 60 / 60-3 / 88 / 1002<br>
                    - 직행버스 : 3000 / 8000
                </div>
            </div>
            
            <div class="transport-item">
                <div class="transport-type">🚗 자차</div>
                <div class="transport-desc">
                    - 내비게이션 : '더베뉴지 서울' 검색<br>
                    - 서울시 강서구 강서로 388 더베뉴지 서울<br>
                    베뉴지 앞쪽 건물 150m 지점 공영주차장 이용
                </div>
            </div>
            
            <div class="transport-item">
                <div class="transport-type">🅿️ 주차</div>
                <div class="transport-desc">
                    - 건물 내 지하 2층 ~ 지하 5층 / 지상 4층 ~ 6층<br>
                    - 1층 엘레베이터 옆 문 무인 정산기에 차량번호 입력 > 2시간 무료 주차 적용<br>
                    (초과 시 10분당 1,000원)
                </div>
            </div>
            
        </div>

        <!-- 마음 전하실 곳 -->
        <div class="account-section">
            <div class="account-title">마음 전하실 곳</div>
            
            <div class="account-container">
                <div class="account-item">
                    <div class="account-details">
                        <div class="account-row">
                            <div class="account-side">
                                신랑측
                                <a href="tel:01049341590" class="call-btn" title="신랑측 통화">📞</a>
                            </div>
                            <div class="account-info">
                                <div class="bank-name">케이뱅크</div>
                                <div class="account-number">100-138-072465</div>
                                <div class="account-holder">양형조</div>
                            </div>
                        </div>
                        <div class="account-divider"></div>
                        <div class="account-row">
                            <div class="account-side">
                                신부측
                                <a href="tel:01092982749" class="call-btn" title="신부측 통화">📞</a>
                            </div>
                            <div class="account-info">
                                <div class="bank-name">케이뱅크</div>
                                <div class="account-number">100-161-612717</div>
                                <div class="account-holder">유지영</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 지도 -->
        <div class="map-section">
            <div class="map-container">
                <!-- 네이버 지도 JavaScript API -->
                <div id="map" style="width:100%;height:300px;"></div>
            </div>
            
            <!-- 지도 링크 버튼들 -->
            <div class="map-links">
                <a href="https://naver.me/x5GojlWc" target="_blank" class="map-link-btn naver-map">
                    <span class="map-icon">🗺️</span>
                    <span class="map-text">네이버 지도</span>
                </a>
                <a href="https://kko.kakao.com/AE3_xjgBeK" target="_blank" class="map-link-btn kakao-map">
                    <span class="map-icon">📍</span>
                    <span class="map-text">카카오맵</span>
                </a>
            </div>
            
            <!-- 10월 달력 -->
            <div class="calendar-section">
                <div class="calendar-title">10월</div>
                <div class="calendar">
                    <div class="calendar-header">
                        <div class="weekday">일</div>
                        <div class="weekday">월</div>
                        <div class="weekday">화</div>
                        <div class="weekday">수</div>
                        <div class="weekday">목</div>
                        <div class="weekday">금</div>
                        <div class="weekday">토</div>
                    </div>
                    <div class="calendar-body">
                        <div class="calendar-day empty"></div>
                        <div class="calendar-day empty"></div>
                        <div class="calendar-day">1</div>
                        <div class="calendar-day">2</div>
                        <div class="calendar-day">3</div>
                        <div class="calendar-day">4</div>
                        <div class="calendar-day">5</div>
                        <div class="calendar-day">6</div>
                        <div class="calendar-day">7</div>
                        <div class="calendar-day">8</div>
                        <div class="calendar-day">9</div>
                        <div class="calendar-day">10</div>
                        <div class="calendar-day">11</div>
                        <div class="calendar-day">12</div>
                        <div class="calendar-day">13</div>
                        <div class="calendar-day">14</div>
                        <div class="calendar-day">15</div>
                        <div class="calendar-day">16</div>
                        <div class="calendar-day">17</div>
                        <div class="calendar-day">18</div>
                        <div class="calendar-day wedding-day">19</div>
                        <div class="calendar-day">20</div>
                        <div class="calendar-day">21</div>
                        <div class="calendar-day">22</div>
                        <div class="calendar-day">23</div>
                        <div class="calendar-day">24</div>
                        <div class="calendar-day">25</div>
                        <div class="calendar-day">26</div>
                        <div class="calendar-day">27</div>
                        <div class="calendar-day">28</div>
                        <div class="calendar-day">29</div>
                        <div class="calendar-day">30</div>
                        <div class="calendar-day">31</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 마무리 -->
        <div class="closing">
            <div class="closing-text">
                소중한 분들과 함께하는<br>
                저희의 새로운 시작을<br>
                따뜻한 마음으로 지켜봐 주세요.
            </div>
            <div class="final-couple">형조 ♥ 지영</div>
        </div>
    </div>

    <!-- 음악 컨트롤 JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('background-music');
            const toggleBtn = document.getElementById('music-toggle');
            let isPlaying = false;

            // 음악 볼륨 설정 (0.3 = 30%)
            audio.volume = 0.3;

            // 페이지 로드 시 음소거 상태로 시작
            toggleBtn.textContent = '🎵';
            toggleBtn.title = '음악 재생';
            isPlaying = false;

            // 음악 토글 버튼 이벤트
            toggleBtn.addEventListener('click', function() {
                if (isPlaying) {
                    audio.pause();
                    toggleBtn.textContent = '🎵';
                    toggleBtn.title = '음악 재생';
                    isPlaying = false;
                } else {
                    audio.play().then(() => {
                        toggleBtn.textContent = '🔇';
                        toggleBtn.title = '음악 정지';
                        isPlaying = true;
                    }).catch((error) => {
                        console.log('음악 재생 실패:', error);
                    });
                }
            });

            // 음악이 끝나면 버튼 상태 리셋 (loop이 있어서 실제로는 안 일어남)
            audio.addEventListener('ended', function() {
                toggleBtn.textContent = '🎵';
                toggleBtn.title = '음악 재생';
                isPlaying = false;
            });

            // 낙엽 애니메이션 시스템 (단일 시스템)
            const mainPetals = document.getElementById('main-petals');
            const calligraphyOverlay = document.getElementById('calligraphy-overlay');
            const calligraphyText = document.getElementById('calligraphy-text');

            // 낙엽 생성 함수
            function createLeaf(delay = 0) {
                const leaf = document.createElement('div');
                const leafType = Math.floor(Math.random() * 8) + 1;
                
                leaf.className = `petal leaf${leafType}`;
                leaf.style.left = Math.random() * 100 + '%';
                leaf.style.width = '8px';
                leaf.style.height = '8px';
                leaf.style.animation = 'fall 18s linear infinite';
                leaf.style.animationDelay = delay + 's';
                
                return leaf;
            }

            // 초기 꽃잎 설정
            function initializeLeaves() {
                for (let i = 0; i < 8; i++) {
                    const leaf = createLeaf(i * -2.5); // 음수로 시작해서 이미 떨어지고 있는 것처럼
                    mainPetals.appendChild(leaf);
                }
            }

            // 지속적으로 추가
            function continuousLeafGeneration() {
                // 처음에 바로 몇 개 더 추가
                setTimeout(() => {
                    for (let i = 0; i < 3; i++) {
                        const leaf = createLeaf(Math.random() * 2);
                        mainPetals.appendChild(leaf);
                    }
                }, 500);

                // 이후 지속적으로 추가
                setInterval(() => {
                    const leaf = createLeaf(0);
                    mainPetals.appendChild(leaf);
                    
                    // 너무 많아지지 않도록 제한
                    if (mainPetals.children.length > 20) {
                        mainPetals.removeChild(mainPetals.firstChild);
                    }
                }, 3000);
            }

            // 페이지 로드 시 즉시 꽃잎 시작
            initializeLeaves();
            continuousLeafGeneration();

            // 캘리그래피 애니메이션 시작
            setTimeout(() => {
                calligraphyOverlay.classList.add('show');
                
                // 글씨 타이핑 애니메이션
                let currentText = '';
                const firstLine = 'Welcome to';
                const secondLine = 'Our Wedding';
                let phase = 1;
                let charIndex = 0;
                
                const typeText = () => {
                    if (phase === 1) {
                        if (charIndex < firstLine.length) {
                            currentText = firstLine.substring(0, charIndex + 1);
                            calligraphyText.textContent = currentText;
                            charIndex++;
                            setTimeout(typeText, 100);
                        } else {
                            setTimeout(() => {
                                phase = 2;
                                charIndex = 0;
                                typeText();
                            }, 300);
                        }
                    } else if (phase === 2) {
                        if (charIndex < secondLine.length) {
                            currentText = firstLine + '\n' + secondLine.substring(0, charIndex + 1);
                            calligraphyText.textContent = currentText;
                            charIndex++;
                            setTimeout(typeText, 100);
                        } else {
                            // 텍스트 완성 후 오버레이만 페이드 아웃
                            setTimeout(() => {
                                calligraphyOverlay.classList.add('hide');
                                
                                setTimeout(() => {
                                    calligraphyOverlay.style.display = 'none';
                                    calligraphyOverlay.classList.remove('show', 'hide');
                                }, 800);
                            }, 1500);
                        }
                    }
                };
                
                typeText();
            }, 300);
        });
    </script>
    <!-- 네이버 지도 JavaScript API -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=NAVER_MAPS_CLIENT_ID"></script>
    <script>
        // 네이버 지도 초기화
        function initMap() {
            try {
                // 더 베뉴지 서울 좌표 (서울특별시 강서구 강서로 388)
                var mapOptions = {
                    center: new naver.maps.LatLng(37.5589, 126.8354),
                    zoom: 15,
                    mapTypeControl: false,
                    scaleControl: false,
                    logoControl: false,
                    mapDataControl: false,
                    zoomControl: true,
                    zoomControlOptions: {
                        position: naver.maps.Position.TOP_RIGHT
                    }
                };

                var map = new naver.maps.Map('map', mapOptions);

                // 마커 추가
                var marker = new naver.maps.Marker({
                    position: new naver.maps.LatLng(37.5589, 126.8354),
                    map: map,
                    title: '더 베뉴지 서울'
                });

                // 정보창 추가
                var infoWindow = new naver.maps.InfoWindow({
                    content: `
                        <div style="padding: 10px; min-width: 200px;">
                            <h3 style="margin: 0 0 5px 0; font-size: 14px; color: #333;">더 베뉴지 서울</h3>
                            <p style="margin: 0; font-size: 12px; color: #666;">서울특별시 강서구 강서로 388</p>
                        </div>
                    `
                });

                // 마커 클릭 시 정보창 표시
                naver.maps.Event.addListener(marker, 'click', function() {
                    if (infoWindow.getMap()) {
                        infoWindow.close();
                    } else {
                        infoWindow.open(map, marker);
                    }
                });

                // 페이지 로드 시 정보창 자동으로 열기
                infoWindow.open(map, marker);
            } catch (error) {
                console.error('지도 초기화 오류:', error);
                // 오류 발생 시 대체 텍스트 표시
                document.getElementById('map').innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; background-color: #f8f8f8; color: #666; font-size: 14px;">
                        <div style="text-align: center;">
                            <div style="font-size: 24px; margin-bottom: 10px;">🗺️</div>
                            <div>더 베뉴지 서울</div>
                            <div style="font-size: 12px; margin-top: 5px;">서울특별시 강서구 강서로 388</div>
                        </div>
                    </div>
                `;
            }
        }

        // 페이지 로드 후 지도 초기화
        document.addEventListener('DOMContentLoaded', function() {
            // 지도 섹션이 화면에 보일 때 지도 초기화
            const mapSection = document.querySelector('.map-section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        initMap();
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            if (mapSection) {
                observer.observe(mapSection);
            }
        });
    </script>
</body>
</html>
